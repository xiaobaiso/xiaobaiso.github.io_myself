---
layout:     post
title:      新年以及爸妈
category: blog

---


## 关于YTKNetwork的走读笔记

**YTKNetwork**是一个基于AFNetworking封装下的网络开源库，是基于离散型网络架构，目前在Github上有四千多个Start。

集约型与离散型网络层封装是最近在iOS侧常常看到的架构讨论，集约型主要是指网络的收发都置于一处，调用也是调用这个类，参数和地址以及相关的回调接口都是需要传入到这个类。而离散型则不同，具体负责收发的类都是继承于封装的基类，在这个子类里面把地址和参数以及回调接口等等具体实现都在子类中实现了。

 具体方案哪个好，这个见仁见智，在我目前的公司使用的是集约型网络封装，在使用过程中出现如下的问题：
 
- **调用类的生命周期不可控** ：其实这个应该算是使用block的问题，就是在block中引用了ViewController，那么这个ViewController就要延长释放，等到网络层运行到block中才能根据判断结束运行。

- **不便于单独的收发调试** ：比如说，Http头部参数这里，在创建之初就全部设定好了，如果我有个单独的协议要用另一种头部参数，就得靠传入，这样可能要放在ViewController中堆砌，很不雅观。


### YTKNetwork的主要逻辑走读


















